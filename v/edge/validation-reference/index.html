<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="google-site-verification" content="luspUdq52gkUU0FFChQ2xmeXSs5HDafpARQ7fVXVBp4" />
    <title>Kuzzle Guide</title>

    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="images/favicon/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/favicon/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="images/favicon/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="images/favicon/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="images/favicon/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="images/favicon/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="images/favicon/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="images/favicon/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="images/favicon/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="images/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="images/favicon/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="images/favicon/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="images/favicon/favicon-128.png" sizes="128x128" />
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="images/favicon/mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="images/favicon/mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="images/favicon/mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="images/favicon/mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="images/favicon/mstile-310x310.png" />

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

  </head>

  <body class="index">
    <header>
      <div class="wrapper">
        <div id="logo">
            <a href="http://kuzzle.io/">&nbsp;</a>
        </div>

        <nav>
          <ul>
            <li>
              <a href="http://kuzzle.io/" class="nav-item">Home</a>
            </li>
            <li>
              <a href="http://docs.kuzzle.io/" class="nav-item developers active">Documentation</a>
            </li>
            <li>
              <a href="http://kuzzle.io/demos-tutorials/" class="nav-item ">Demos</a>
            </li>
            <li>
              <a href="http://kuzzle.io/blog/" class="nav-item ">Blog</a>
            </li>
            <li>
              <a href="https://github.com/kuzzleio/kuzzle" target="_blank" class="nav-item github">
                <i class="icon icon-github icon-small"></i>
              </a>
            </li>
          </ul>
        </nav>
      </div>
      <div class="developer-nav open">
        <ul>
            <li><a href="/guide/"><span>Guide</span></a></li>
            <li><a href="/sdk-reference/"><span>SDK</span></a></li>
            <li><a href="/real-time-filters/"><span>Real-time filters</span></a></li>
            <li class="active"><a href="/validation-reference/"><span>Data Validation</span></a></li>
            <li><a href="/api-reference/"><span>API</span></a></li>
            <li><a href="/plugin-reference/"><span>Plugins</span></a></li>
            <li><a href="/elasticsearch-cookbook/"><span>Elasticsearch Cookbook</span></a></li>
        </ul>
        <div class="search">
          <input type="text" class="search" id="input-search" tabindex="1" placeholder="Search in the guide">
        </div>
      </div>
    </header>

    <div class="container">
      <a href="#" id="nav-button">
        <span>
          NAV
          <img src="images/navbar.png" />
        </span>
      </a>
      <div class="tocify-wrapper">
          <ul class="search-results"></ul>

<!--
        <div id="version-selector">
          <label>
            select version:
            <select>
              <option value="/">v1.0.x (current)</option>
              <option value="/v/edge">next</option>
            </select>
          </label>
        </div>
-->

        <div id="toc">
        </div>
          <ul class="toc-footer">
              <li><a href="http://kuzzle.io">Kuzzle official website</a></li>
              <li><a href="http://github.com/kuzzleio/kuzzle">Kuzzle on GitHub</a></li>
              <li><a href="http://github.com/tripit/slate">Documentation Powered by Slate</a></li>
          </ul>
      </div>
      <div class="page-wrapper">
        <div class="dark-box"></div>
        <div class="content">
          <h1 id="introduction">Introduction</h1>

<p>Kuzzle natively provides a way to validate the documents you want to create, replace, update or publish against a validation schema. You can specify the validation rules in the kuzzle configuration file in <code class="prettyprint">validation</code>.</p>

            <h2 id="schema-structure">Schema Structure</h2>

<p>The validation schema must follow the following structure to be valid:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"myIndex"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"myCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"strict"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"fieldName"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"mandatory"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"defaultValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a default value"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"multivalued"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"minCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"maxCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"typeOptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"length"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"min"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
              </span><span class="nt">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"anotherFieldName"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"..."</span><span class="w">
        </span><span class="err">}</span><span class="p">,</span><span class="w">
        </span><span class="nt">"myObjectField"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"..."</span><span class="w">
        </span><span class="err">}</span><span class="p">,</span><span class="w">
        </span><span class="nt">"myObjectField/mySubField"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"..."</span><span class="w">
        </span><span class="err">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"validators"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"..."</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"..."</span><span class="w">
  </span><span class="err">}</span><span class="p">,</span><span class="w">
  </span><span class="nt">"..."</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<p>Please refer below for a detailed overview of the available validations.</p>

            <h1 id="fields-specification">Fields specification</h1>

<h2 id="strict">strict</h2>

<p><strong>Possible values</strong>: Boolean true or false</p>

<p><strong>Default</strong>: false</p>

<p><strong>Purpose</strong>: If true, the document will be rejected if it attemps to define new fields that have not been defined in the schema.</p>

<h2 id="fields">Fields</h2>

<p>The property name defines the path of the field in the document. The root fields will use their name directly. Sub fields contained in objects will use their path with the pattern &ldquo;objectField/<subField>[/ &hellip;]&rdquo;.</p>

<h3 id="type">type</h3>

<p><strong>Possible values (Elasticsearch types)</strong>:</p>

<ul>
<li>  string: value(s) must be a string, additional <strong>optional constraints in typeOptions</strong></li>
<li>  ip_address: value(s) must be a valid IP address(v4 or v6)</li>
<li>  integer: value(s) must be a valid integer, additional <strong>optional constraints in typeOptions</strong></li>
<li>  numeric: value(s) must be a valid number, additional <strong>optional constraints in typeOptions</strong></li>
<li>  geo_point: value(s) must be a valid geo-point</li>
<li>  geo_shape: value(s) must be a valid geo-shape</li>
<li>  date: value(s) must be a valid date, additional <strong>optional constraints in typeOptions</strong></li>
<li>  object: value(s) must be a valid object, additional <strong>optional constraints in typeOptions</strong></li>
</ul>

<p><strong>Possible values (Special types)</strong>:</p>

<ul>
<li>  email: value(s) must be a valid email address, additional <strong>optional constraints in typeOptions</strong></li>
<li>  url: value(s) must be a valid url</li>
<li>  enum: (<strong>string</strong>) value(s) must be contained in the valid values, additional <strong>mandatory configuration in typeOptions</strong></li>
<li>  anything: value(s) can be of any type (useful to specify a <strong>mandatory</strong> or multi-valued field without any other constraints, or when you use the <strong>strict</strong> option)</li>
</ul>

<p><strong>Default</strong>: no default (mandatory)</p>

<p><strong>Purpose</strong>: Defines the type of the provided fields. Checks are performed depending on the provided type.</p>

<p><strong>Documentation</strong>: You can find more information about Elasticsearch types in the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-types.html">Elasticearch documentation</a></p>

<h3 id="mandatory">mandatory</h3>

<p><strong>Possible values</strong>: Boolean true or false</p>

<p><strong>Default</strong>: false</p>

<p><strong>Purpose</strong>: Specifies whether the field must be present and different from the NULL value.</p>

<h3 id="defaultvalue">defaultValue</h3>

<p><strong>Possible values</strong>: Any value that fits the type of the field. If the field is multi-valued, the default value <strong>MUST</strong> be an array of values (even if it contains only one value).</p>

<p><strong>Purpose</strong>: Provides a value if the field is not present or equals NULL.</p>

<p><strong>Behavior</strong> : Applies the default value to the given field when it is not specified or its value is <code class="prettyprint">null</code>.</p>

<h3 id="description">description</h3>

<p><strong>Possible values</strong>: Any string describing the field, its content and its conditions.</p>

<p><strong>Default</strong>: empty (optional)</p>

<p><strong>Purpose</strong>: Allows the author of the validation specification to remember what is the field&rsquo;s purpose (can also contain keywords to search the field in a configuration file).</p>

<h3 id="multivalued">multivalued</h3>

<h4 id="value">value</h4>

<p><strong>Possible values</strong>: Boolean true or false</p>

<p><strong>Default</strong>: false</p>

<p><strong>Purpose</strong>: Specifies whether the field must contain an array of values or not. If true, fields[field].multivalued.minCount and fields[field].multivalued.maxCount can be used. <strong>If true, a scalar can not be provided for the field</strong>.</p>

<h4 id="mincount">minCount</h4>

<p><strong>Possible values</strong>: A positive integer, less or equal to multivalued.maxCount</p>

<p><strong>Default</strong>: 0</p>

<p><strong>Purpose</strong>: Defines the minimum (<strong>inclusive</strong>) count of items provided in the multi-valued field.</p>

<h4 id="maxcount">maxCount</h4>

<p><strong>Possible values</strong>: A positive integer, greater or equal to multivalued.minCount</p>

<p><strong>Default</strong>: infinite</p>

<p><strong>Purpose</strong>: Defines the maximum (<strong>inclusive</strong>) count of items provided in the multi-valued field.</p>

<h3 id="typeoptions">typeOptions</h3>

<p>This configuration is available depending on the types of the field.</p>

<h4 id="range">range</h4>

<p><strong>Associated types</strong>: integer, float, date</p>

<p><strong>Possible</strong> <strong>values</strong>: An object with a min and/or a max property, e.g.:</p>
<pre class="highlight json"><code><span class="err">//</span><span class="w"> </span><span class="err">Integer</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">float</span><span class="w">
</span><span class="s2">"typeOptions"</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"min"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nt">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">Date</span><span class="w">
</span><span class="s2">"typeOptions"</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"min"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2010-01-01"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"max"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOW"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Default Behavior</strong>: no min and no max</p>

<p><strong>Purpose</strong>: Defines a minimum and/or a maximum (<strong>inclusive</strong>) values for the field.</p>

<p><strong>Specific to dates</strong>: Use a date with the format ISO_8601 as min and max value : &ldquo;YYYY-MM-DDTHH:mm:ss.SSSZ&rdquo;. The special keyword &ldquo;NOW&rdquo; is also available and represents a current time in UTC format.</p>

<p><strong>Examples</strong>:</p>

<ul>
<li>  Full format: &ldquo;2010-12-25T14:12:44.123+01:00&rdquo;</li>
<li>  Date &amp; Time (without millis) : &quot;2010-12-25T14:12:44&quot;</li>
<li>  Only date: &ldquo;2010-12-25&rdquo;</li>
<li>  Time relative to the current day : &ldquo;T14:12:44&rdquo;</li>
</ul>

<aside class="warning">Beware when using dates as range values: always make sure that, at some point, your rule won&rsquo;t prevent all documents from entering the system.</aside>

<h4 id="length">length</h4>

<p><strong>Associated type</strong>: string</p>

<p><strong>Possible values</strong>: An object with a min and/or a max property, ie:</p>
<pre class="highlight json"><code><span class="s2">"typeopts"</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"length"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"min"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nt">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Default Behavior</strong>: no min and no max</p>

<p><strong>Purpose</strong>: Defines a minimum and/or a maximum (<strong>inclusive</strong>) values for the field.</p>

<h4 id="notempty">notEmpty</h4>

<p><strong>Associated type</strong>: email, ip_address, url</p>

<p><strong>Possible values</strong>: Boolean true or false</p>

<p><strong>Default</strong>: false</p>

<p><strong>Purpose</strong>: Specifies whether a field can contain empty strings or not. If set to false, the field must either be empty or fulfill the field requirement (follow an email format by example).</p>

<h4 id="formats">formats</h4>

<p><strong>Associated type</strong>: date</p>

<p><strong>Possible values</strong>: An array of strings representing the date format. The document date will have to match one of the provided formats in order to be valid.</p>
<pre class="highlight plaintext"><code>epoch_millis
epoch_second
strict_date_optional_time
basic_date
basic_date_time
basic_date_time_no_millis
basic_ordinal_date
basic_ordinal_date_time
basic_ordinal_date_time_no_millis
basic_time
basic_time_no_millis
basic_t_time
basic_t_time_no_millis
basic_week_date
strict_basic_week_date
basic_week_date_time
strict_basic_week_date_time
basic_week_date_time_no_millis
strict_basic_week_date_time_no_millis
date
strict_date
date_hour
strict_date_hour
date_hour_minute
strict_date_hour_minute
date_hour_minute_second
strict_date_hour_minute_second
date_hour_minute_second_fraction
strict_date_hour_minute_second_fraction
date_hour_minute_second_millis
strict_date_hour_minute_second_millis
date_time
strict_date_time
date_time_no_millis
strict_date_time_no_millis
hour
strict_hour
hour_minute
strict_hour_minute
hour_minute_second
strict_hour_minute_second
hour_minute_second_fraction
strict_hour_minute_second_fraction
hour_minute_second_millis
strict_hour_minute_second_millis
ordinal_date
strict_ordinal_date
ordinal_date_time
strict_ordinal_date_time
ordinal_date_time_no_millis
strict_ordinal_date_time_no_millis
time
strict_time
time_no_millis
strict_time_no_millis
t_time
strict_t_time
t_time_no_millis
strict_t_time_no_millis
week_date
strict_week_date
week_date_time
strict_week_date_time
week_date_time_no_millis
strict_week_date_time_no_millis
weekyear
strict_weekyear
weekyear_week
strict_weekyear_week
weekyear_week_day
strict_weekyear_week_day
year
strict_year
year_month
strict_year_month
year_month_day
strict_year_month_day
</code></pre>

<p><strong>Documentation</strong>: <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-date-format.html">Elasticsearch documentation</a> (all except date_optional_time)</p>

<p><strong>Default</strong>: [&ldquo;epoch_millis&rdquo;]</p>

<p><strong>Purpose</strong>: Define the accepted formats that can be used for dates</p>

<aside class="warning">
The format defined in the specification has to match the formats defined in the Elasticsearch mapping for the field.
<br/>
Non strict mode is slightly different from the one explained and implemented by Elasticsearch. Please refer to the documentation of the Moment.js (the date library we use) for further explanation : <a href="http://momentjs.com/guides/#/parsing/strict-mode/">Moment.js documentation</a>
<br/>
Non strict mode has been implemented to fit Elasticsearch date formats but we recommend to use strict mode when possible.
</aside>

<h4 id="strict">strict</h4>

<p><strong>Associated type</strong>: object</p>

<p><strong>Possible values</strong>: Boolean true or false</p>

<p><strong>Default Behavior</strong>: If not set, uses the same value as its parent, recursively.</p>

<p><strong>Purpose</strong>: Specifies whether the field can contain non declared fields. If true, a document that attempts to add a not declared field will be rejected.</p>

<h4 id="values">values</h4>

<p><strong>Associated type</strong>: enum (mandatory)</p>

<p><strong>Values</strong>: an array of strings defining the valid values </p>

<p><strong>Purpose</strong>:Defines all valid values for an enum field. All field values have to match one of the valid values for a multi-valued field.</p>

<h4 id="shapetypes">shapeTypes</h4>

<p><strong>Associated type</strong>: geo_shape (mandatory)</p>

<p><strong>Possible value</strong>: an array of shapes type within</p>

<ul>
<li>  point</li>
<li>  linestring</li>
<li>  polygon</li>
<li>  multipoint</li>
<li>  multilinestring</li>
<li>  multipolygon</li>
<li>  geometrycollection</li>
<li>  envelope</li>
<li>  circle</li>
</ul>

<p><strong>Default</strong>: an array of all types</p>

<p><strong>Purpose</strong>: Limit the shapes available for a given geo_shape field.</p>

<p><strong>Documentation</strong>: <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/geo-shape.html#input-structure">Elasticsearch documentation</a></p>

            <h2 id="validators">Validators</h2>

<p>The <code class="prettyprint">validators</code> property is an array of <a href="/real-time-filters">DSL filters</a>. Each filters have to match in order for the document to be valid.</p>

<aside class="warning">You have to take care about the fields you allow to be empty or undefined.</aside>

<h4 id="structure">Structure</h4>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"myIndex"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"myCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"strict"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"..."</span><span class="w">
      </span><span class="err">}</span><span class="p">,</span><span class="w">
      </span><span class="nt">"validators"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w"> </span><span class="nt">"equals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"fieldName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"maximilian"</span><span class="p">}</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"must"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"..."</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"must_not"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"..."</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"should"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"..."</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"should_not"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"..."</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"..."</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"..."</span><span class="w">
  </span><span class="err">}</span><span class="p">,</span><span class="w">
  </span><span class="nt">"..."</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<p>Translates in the following DSL query:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"must"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w"> </span><span class="nt">"equals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"fieldName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"maximilian"</span><span class="p">}</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"must"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"..."</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nt">"must_not"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"..."</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nt">"should"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"..."</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nt">"should_not"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"..."</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

        </div>
        <div class="dark-box">
        </div>
      </div>
    </div>
    <script>
      ((window.gitter = {}).chat = {}).options = {
        room: 'kuzzleio/kuzzle'
      };
    </script>
    <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>
    <script type="text/javascript">
      (function(i, s, o, g, r, a, m) {
          i['GoogleAnalyticsObject'] = r;
          i[r] = i[r] || function() {
                  (i[r].q = i[r].q || []).push(arguments)
              }, i[r].l = 1 * new Date();
          a = s.createElement(o),
              m = s.getElementsByTagName(o)[0];
          a.async = 1;
          a.src = g;
          m.parentNode.insertBefore(a, m)
      })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

      ga('create', 'UA-67035328-1', 'auto');
      ga('send', 'pageview');


      (function() {
        var
          r,
          version;

        r = /\/v\/([^/]+)(?:\/[^/]+\.html?)?$/.exec(window.location.pathname);

        if (r) {
          version = r[1];
          $('#version-selector option[value="/v/' + version + '"]').prop('selected', true);
        }

        $('#version-selector').change(function (e) {
          var
            versionPath = $('#version-selector option:selected').val();
          window.location = window.location.pathname
            .replace(/\/v\/([^/]+)(\/[^/]+\.html?)?$/, '\2')
            + versionPath
            +'#' + window.location.hash;
        });
      })();
    </script>
  </body>
</html>
